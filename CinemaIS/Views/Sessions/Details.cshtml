@model CinemaIS.Models.Session

@{
    ViewData["Title"] = "Details";
}

<h1>Details</h1>

@*<div class="d-grid gap-2">
    @{
        Hall.Element[][] hallLayout = Model.Hall.Layout;
    }
    @for (int i = 0; i < hallLayout.Length; i++)
    {
        <div class="d-flex justify-content-between">

            @{
                int row = i + 1;
                int gapsCount = 0;
            }

            @row
            <div class="d-flex justify-content-center gap-2">

            @for (int j = 0; j < hallLayout[i].Length; j++)
            {
                int seat = j + 1 - gapsCount;
                decimal price = Model.MinPrice * (decimal)hallLayout[i][j].Сoefficient;

                if (hallLayout[i][j].Type == Hall.ElementType.Seat)
                {
                    <span 
                        class="d-inline-block" tabindex="0" data-bs-toggle="tooltip" 
                        title="@(
                            $"Ряд: {row}, Место: {seat}\n" +
                            $"Цена: {price} руб.")">

                        <input type="checkbox" class="btn-check seat" id="btn-check-@(row + "-" + seat)" autocomplete="off" data-price="@price">
                        <label class="btn btn-outline-success btn-sm" for="btn-check-@(row + "-" + seat)">@seat</label>
                    </span>
                }
                else
                {
                    gapsCount++;
                    <div style="width: 25px"></div>
                }
            }

            </div>
            @row
        </div>
    }
</div>

<form>
    <div id="selected-tickets-container">
    </div>
    <div class="form-group">
        <input type="submit" value="Продолжить" class="btn btn-primary" />
    </div>
</form>*@

<div>
    <a asp-action="Edit" asp-route-id="@Model?.Id">Edit</a> |
    <a asp-action="Index">Back to List</a>
</div>

<script src="~/js/seat-selection.js" asp-append-version="true"></script>